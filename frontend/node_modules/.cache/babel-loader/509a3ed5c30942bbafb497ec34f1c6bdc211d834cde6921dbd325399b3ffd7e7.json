{"ast":null,"code":"import React from'react';import{motion,AnimatePresence}from'framer-motion';import MessageBubble from'./MessageBubble';import TypingIndicator from'./TypingIndicator';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MessageList=_ref=>{let{messages,isLoading,error}=_ref;return/*#__PURE__*/_jsxs(AnimatePresence,{initial:false,children:[messages.map((msg,index)=>{var _messages;// Skip empty messages or those marked for deletion\nif(!msg.text.trim()&&!msg.isStreaming)return null;// Check if this is part of a consecutive group of messages from the same sender\nconst isPartOfGroup=((_messages=messages[index-1])===null||_messages===void 0?void 0:_messages.isUser)===msg.isUser;const showTimestamp=!isPartOfGroup||index===messages.length-1;return/*#__PURE__*/_jsx(motion.div,{layout:true,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`transition-all duration-200 ${isPartOfGroup?'mt-1':'mt-4'}`,children:/*#__PURE__*/_jsx(MessageBubble,{message:msg.text,isUser:msg.isUser,isTyping:msg.isStreaming,character:msg.character,showAvatar:!isPartOfGroup,showName:!isPartOfGroup,timestamp:showTimestamp?msg.timestamp:undefined})},msg.id);}),error&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},className:\"text-red-500 text-sm p-2 rounded-lg bg-red-500/10\",children:error}),isLoading&&!messages.some(msg=>msg.isStreaming)&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:/*#__PURE__*/_jsx(TypingIndicator,{})})]});};export default MessageList;","map":{"version":3,"names":["React","motion","AnimatePresence","MessageBubble","TypingIndicator","jsx","_jsx","jsxs","_jsxs","MessageList","_ref","messages","isLoading","error","initial","children","map","msg","index","_messages","text","trim","isStreaming","isPartOfGroup","isUser","showTimestamp","length","div","layout","opacity","y","animate","exit","className","message","isTyping","character","showAvatar","showName","timestamp","undefined","id","some"],"sources":["C:/Users/ajits/fastapi-react-chatbot/frontend/src/components/MessageList.tsx"],"sourcesContent":["import React from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport MessageBubble from './MessageBubble';\r\nimport TypingIndicator from './TypingIndicator';\r\nimport { Character } from '../services/api';\r\n\r\ninterface Message {\r\n    text: string;\r\n    isUser: boolean;\r\n    id: string;\r\n    isStreaming?: boolean;\r\n    character?: Character;\r\n    timestamp?: Date;\r\n}\r\n\r\ninterface MessageListProps {\r\n    messages: Message[];\r\n    isLoading: boolean;\r\n    error: string | null;\r\n}\r\n\r\nconst MessageList: React.FC<MessageListProps> = ({ messages, isLoading, error }) => {\r\n    return (\r\n        <AnimatePresence initial={false}>\r\n            {messages.map((msg, index) => {\r\n                // Skip empty messages or those marked for deletion\r\n                if (!msg.text.trim() && !msg.isStreaming) return null;\r\n\r\n                // Check if this is part of a consecutive group of messages from the same sender\r\n                const isPartOfGroup = messages[index - 1]?.isUser === msg.isUser;\r\n                const showTimestamp = !isPartOfGroup || index === messages.length - 1;\r\n\r\n                return (\r\n                    <motion.div\r\n                        key={msg.id}\r\n                        layout\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        exit={{ opacity: 0, y: -20 }}\r\n                        className={`transition-all duration-200 ${isPartOfGroup ? 'mt-1' : 'mt-4'}`}\r\n                    >\r\n                        <MessageBubble\r\n                            message={msg.text}\r\n                            isUser={msg.isUser}\r\n                            isTyping={msg.isStreaming}\r\n                            character={msg.character}\r\n                            showAvatar={!isPartOfGroup}\r\n                            showName={!isPartOfGroup}\r\n                            timestamp={showTimestamp ? msg.timestamp : undefined}\r\n                        />\r\n                    </motion.div>\r\n                );\r\n            })}\r\n\r\n            {error && (\r\n                <motion.div\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    className=\"text-red-500 text-sm p-2 rounded-lg bg-red-500/10\"\r\n                >\r\n                    {error}\r\n                </motion.div>\r\n            )}\r\n\r\n            {isLoading && !messages.some(msg => msg.isStreaming) && (\r\n                <motion.div\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    exit={{ opacity: 0 }}\r\n                >\r\n                    <TypingIndicator />\r\n                </motion.div>\r\n            )}\r\n        </AnimatePresence>\r\n    );\r\n};\r\n\r\nexport default MessageList;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,CAAEC,eAAe,KAAQ,eAAe,CACvD,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAkBhD,KAAM,CAAAC,WAAuC,CAAGC,IAAA,EAAoC,IAAnC,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,KAAM,CAAC,CAAAH,IAAA,CAC3E,mBACIF,KAAA,CAACN,eAAe,EAACY,OAAO,CAAE,KAAM,CAAAC,QAAA,EAC3BJ,QAAQ,CAACK,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,GAAK,KAAAC,SAAA,CAC1B;AACA,GAAI,CAACF,GAAG,CAACG,IAAI,CAACC,IAAI,CAAC,CAAC,EAAI,CAACJ,GAAG,CAACK,WAAW,CAAE,MAAO,KAAI,CAErD;AACA,KAAM,CAAAC,aAAa,CAAG,EAAAJ,SAAA,CAAAR,QAAQ,CAACO,KAAK,CAAG,CAAC,CAAC,UAAAC,SAAA,iBAAnBA,SAAA,CAAqBK,MAAM,IAAKP,GAAG,CAACO,MAAM,CAChE,KAAM,CAAAC,aAAa,CAAG,CAACF,aAAa,EAAIL,KAAK,GAAKP,QAAQ,CAACe,MAAM,CAAG,CAAC,CAErE,mBACIpB,IAAA,CAACL,MAAM,CAAC0B,GAAG,EAEPC,MAAM,MACNd,OAAO,CAAE,CAAEe,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,EAAG,CAAE,CAC/BC,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAE,CAC9BE,IAAI,CAAE,CAAEH,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,EAAG,CAAE,CAC7BG,SAAS,CAAE,+BAA+BV,aAAa,CAAG,MAAM,CAAG,MAAM,EAAG,CAAAR,QAAA,cAE5ET,IAAA,CAACH,aAAa,EACV+B,OAAO,CAAEjB,GAAG,CAACG,IAAK,CAClBI,MAAM,CAAEP,GAAG,CAACO,MAAO,CACnBW,QAAQ,CAAElB,GAAG,CAACK,WAAY,CAC1Bc,SAAS,CAAEnB,GAAG,CAACmB,SAAU,CACzBC,UAAU,CAAE,CAACd,aAAc,CAC3Be,QAAQ,CAAE,CAACf,aAAc,CACzBgB,SAAS,CAAEd,aAAa,CAAGR,GAAG,CAACsB,SAAS,CAAGC,SAAU,CACxD,CAAC,EAfGvB,GAAG,CAACwB,EAgBD,CAAC,CAErB,CAAC,CAAC,CAED5B,KAAK,eACFP,IAAA,CAACL,MAAM,CAAC0B,GAAG,EACPb,OAAO,CAAE,CAAEe,OAAO,CAAE,CAAE,CAAE,CACxBE,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAE,CAAE,CACxBI,SAAS,CAAC,mDAAmD,CAAAlB,QAAA,CAE5DF,KAAK,CACE,CACf,CAEAD,SAAS,EAAI,CAACD,QAAQ,CAAC+B,IAAI,CAACzB,GAAG,EAAIA,GAAG,CAACK,WAAW,CAAC,eAChDhB,IAAA,CAACL,MAAM,CAAC0B,GAAG,EACPb,OAAO,CAAE,CAAEe,OAAO,CAAE,CAAE,CAAE,CACxBE,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAE,CAAE,CACxBG,IAAI,CAAE,CAAEH,OAAO,CAAE,CAAE,CAAE,CAAAd,QAAA,cAErBT,IAAA,CAACF,eAAe,GAAE,CAAC,CACX,CACf,EACY,CAAC,CAE1B,CAAC,CAED,cAAe,CAAAK,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}