{"ast":null,"code":"import React from'react';import{motion,AnimatePresence}from'framer-motion';import TypingIndicator from'./TypingIndicator';import ReactMarkdown from'react-markdown';import{UserCircleIcon,SparklesIcon}from'@heroicons/react/24/solid';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MessageBubble=_ref=>{let{message,isUser,isTyping,character,error,showAvatar=true,showName=true,timestamp}=_ref;return/*#__PURE__*/_jsx(AnimatePresence,{children:/*#__PURE__*/_jsx(motion.div,{\"data-testid\":\"message-bubble\",initial:{opacity:1,y:0},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`flex ${isUser?'justify-end':'justify-start'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:`max-w-[80%] flex ${isUser?'flex-row-reverse':'flex-row'} items-start gap-2`,children:[showAvatar&&/*#__PURE__*/_jsx(\"div\",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 \n                            ${isUser?'bg-blue-600':character?'bg-purple-600':'bg-gray-600'}`,children:isUser?/*#__PURE__*/_jsx(UserCircleIcon,{className:\"w-6 h-6 text-white\"}):/*#__PURE__*/_jsx(SparklesIcon,{className:\"w-5 h-5 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[showName&&/*#__PURE__*/_jsx(\"span\",{className:`text-sm mb-1 ${isUser?'text-blue-400':'text-purple-400'}`,children:isUser?'You':(character===null||character===void 0?void 0:character.name)||'Bot'}),/*#__PURE__*/_jsx(motion.div,{layout:true,className:`rounded-xl shadow-md px-6 py-4 ${error?'bg-red-50 border border-red-200':isUser?'bg-blue-600/10 border border-blue-500/20 text-white':character?'bg-purple-600/10 border border-purple-500/20 text-white':'bg-gray-700 text-white border border-gray-600'}`,children:error?/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm md:text-base text-red-600 font-medium\",children:[\"Error: \",error]}):isTyping&&!message.trim()?/*#__PURE__*/_jsx(TypingIndicator,{}):/*#__PURE__*/_jsx(\"div\",{className:\"prose prose-invert max-w-none\",children:/*#__PURE__*/_jsx(ReactMarkdown,{children:message})})}),timestamp&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 mt-1\",children:timestamp.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})})]})]})})});};export default MessageBubble;","map":{"version":3,"names":["React","motion","AnimatePresence","TypingIndicator","ReactMarkdown","UserCircleIcon","SparklesIcon","jsx","_jsx","jsxs","_jsxs","MessageBubble","_ref","message","isUser","isTyping","character","error","showAvatar","showName","timestamp","children","div","initial","opacity","y","animate","exit","className","name","layout","trim","toLocaleTimeString","hour","minute"],"sources":["C:/Users/ajits/fastapi-react-chatbot/frontend/src/components/MessageBubble.tsx"],"sourcesContent":["import React from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport TypingIndicator from './TypingIndicator';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport { UserCircleIcon, SparklesIcon } from '@heroicons/react/24/solid';\r\n\r\ninterface Character {\r\n    id: number;\r\n    name: string;\r\n    movie: string;\r\n}\r\n\r\ninterface MessageBubbleProps {\r\n    message: string;\r\n    isUser: boolean;\r\n    isTyping?: boolean;\r\n    character?: Character;\r\n    error?: string;\r\n    showAvatar?: boolean;\r\n    showName?: boolean;\r\n    timestamp?: Date;\r\n}\r\n\r\nconst MessageBubble: React.FC<MessageBubbleProps> = ({ \r\n    message, \r\n    isUser, \r\n    isTyping,\r\n    character,\r\n    error,\r\n    showAvatar = true,\r\n    showName = true,\r\n    timestamp\r\n}) => {\r\n    return (\r\n        <AnimatePresence>\r\n            <motion.div\r\n                data-testid=\"message-bubble\"\r\n                initial={{ opacity: 1, y: 0 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -20 }}\r\n                className={`flex ${isUser ? 'justify-end' : 'justify-start'}`}\r\n            >\r\n                <div className={`max-w-[80%] flex ${isUser ? 'flex-row-reverse' : 'flex-row'} items-start gap-2`}>\r\n                    {/* Avatar/Icon */}\r\n                    {showAvatar && (\r\n                        <div className={`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 \r\n                            ${isUser ? 'bg-blue-600' : character ? 'bg-purple-600' : 'bg-gray-600'}`}\r\n                        >\r\n                            {isUser ? (\r\n                                <UserCircleIcon className=\"w-6 h-6 text-white\" />\r\n                            ) : (\r\n                                <SparklesIcon className=\"w-5 h-5 text-white\" />\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Message Content */}\r\n                    <div className=\"flex flex-col\">\r\n                        {/* Label */}\r\n                        {showName && (\r\n                            <span className={`text-sm mb-1 ${isUser ? 'text-blue-400' : 'text-purple-400'}`}>\r\n                                {isUser ? 'You' : character?.name || 'Bot'}\r\n                            </span>\r\n                        )}\r\n                        \r\n                        <motion.div\r\n                            layout\r\n                            className={`rounded-xl shadow-md px-6 py-4 ${\r\n                                error ? 'bg-red-50 border border-red-200' :\r\n                                isUser\r\n                                    ? 'bg-blue-600/10 border border-blue-500/20 text-white'\r\n                                    : character \r\n                                        ? 'bg-purple-600/10 border border-purple-500/20 text-white'\r\n                                        : 'bg-gray-700 text-white border border-gray-600'\r\n                            }`}\r\n                        >\r\n                            {error ? (\r\n                                <p className=\"text-sm md:text-base text-red-600 font-medium\">\r\n                                    Error: {error}\r\n                                </p>\r\n                            ) : isTyping && !message.trim() ? (\r\n                                <TypingIndicator />\r\n                            ) : (\r\n                                <div className=\"prose prose-invert max-w-none\">\r\n                                    <ReactMarkdown>\r\n                                        {message}\r\n                                    </ReactMarkdown>\r\n                                </div>\r\n                            )}\r\n                        </motion.div>\r\n\r\n                        {/* Timestamp */}\r\n                        {timestamp && (\r\n                            <span className=\"text-xs text-gray-500 mt-1\">\r\n                                {timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </motion.div>\r\n        </AnimatePresence>\r\n    );\r\n};\r\n\r\nexport default MessageBubble;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}