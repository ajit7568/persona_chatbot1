{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ajits\\\\fastapi-react-chatbot\\\\frontend\\\\src\\\\components\\\\MessageList.tsx\";\nimport React from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport MessageBubble from './MessageBubble';\nimport TypingIndicator from './TypingIndicator';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageList = ({\n  messages,\n  isLoading,\n  error\n}) => {\n  return /*#__PURE__*/_jsxDEV(AnimatePresence, {\n    initial: false,\n    children: [messages.map((msg, index) => {\n      var _messages;\n      // Skip empty messages or those marked for deletion\n      if (!msg.text.trim() && !msg.isStreaming) return null;\n\n      // Check if this is part of a consecutive group of messages from the same sender\n      const isPartOfGroup = ((_messages = messages[index - 1]) === null || _messages === void 0 ? void 0 : _messages.isUser) === msg.isUser;\n      const showTimestamp = !isPartOfGroup || index === messages.length - 1;\n      return /*#__PURE__*/_jsxDEV(motion.div, {\n        layout: true,\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        exit: {\n          opacity: 0,\n          y: -20\n        },\n        className: `transition-all duration-200 ${isPartOfGroup ? 'mt-1' : 'mt-4'}`,\n        children: /*#__PURE__*/_jsxDEV(MessageBubble, {\n          message: msg.text,\n          isUser: msg.isUser,\n          isTyping: msg.isStreaming,\n          character: msg.character,\n          showAvatar: !isPartOfGroup,\n          showName: !isPartOfGroup,\n          timestamp: showTimestamp ? msg.timestamp : undefined\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this)\n      }, msg.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }, this);\n    }), error && /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      className: \"text-red-500 text-sm p-2 rounded-lg bg-red-500/10\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this), isLoading && !messages.some(msg => msg.isStreaming) && /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      exit: {\n        opacity: 0\n      },\n      children: /*#__PURE__*/_jsxDEV(TypingIndicator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n};\n_c = MessageList;\nexport default MessageList;\nvar _c;\n$RefreshReg$(_c, \"MessageList\");","map":{"version":3,"names":["React","motion","AnimatePresence","MessageBubble","TypingIndicator","jsxDEV","_jsxDEV","MessageList","messages","isLoading","error","initial","children","map","msg","index","_messages","text","trim","isStreaming","isPartOfGroup","isUser","showTimestamp","length","div","layout","opacity","y","animate","exit","className","message","isTyping","character","showAvatar","showName","timestamp","undefined","fileName","_jsxFileName","lineNumber","columnNumber","id","some","_c","$RefreshReg$"],"sources":["C:/Users/ajits/fastapi-react-chatbot/frontend/src/components/MessageList.tsx"],"sourcesContent":["import React from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport MessageBubble from './MessageBubble';\r\nimport TypingIndicator from './TypingIndicator';\r\n\r\ninterface Message {\r\n    text: string;\r\n    isUser: boolean;\r\n    id: string;\r\n    isStreaming?: boolean;\r\n    character?: {\r\n        id: number;\r\n        name: string;\r\n        movie: string;\r\n    };\r\n    timestamp?: Date;\r\n}\r\n\r\ninterface MessageListProps {\r\n    messages: Message[];\r\n    isLoading: boolean;\r\n    error: string | null;\r\n}\r\n\r\nconst MessageList: React.FC<MessageListProps> = ({ messages, isLoading, error }) => {\r\n    return (\r\n        <AnimatePresence initial={false}>\r\n            {messages.map((msg, index) => {\r\n                // Skip empty messages or those marked for deletion\r\n                if (!msg.text.trim() && !msg.isStreaming) return null;\r\n\r\n                // Check if this is part of a consecutive group of messages from the same sender\r\n                const isPartOfGroup = messages[index - 1]?.isUser === msg.isUser;\r\n                const showTimestamp = !isPartOfGroup || index === messages.length - 1;\r\n\r\n                return (\r\n                    <motion.div\r\n                        key={msg.id}\r\n                        layout\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        exit={{ opacity: 0, y: -20 }}\r\n                        className={`transition-all duration-200 ${isPartOfGroup ? 'mt-1' : 'mt-4'}`}\r\n                    >\r\n                        <MessageBubble\r\n                            message={msg.text}\r\n                            isUser={msg.isUser}\r\n                            isTyping={msg.isStreaming}\r\n                            character={msg.character}\r\n                            showAvatar={!isPartOfGroup}\r\n                            showName={!isPartOfGroup}\r\n                            timestamp={showTimestamp ? msg.timestamp : undefined}\r\n                        />\r\n                    </motion.div>\r\n                );\r\n            })}\r\n\r\n            {error && (\r\n                <motion.div\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    className=\"text-red-500 text-sm p-2 rounded-lg bg-red-500/10\"\r\n                >\r\n                    {error}\r\n                </motion.div>\r\n            )}\r\n\r\n            {isLoading && !messages.some(msg => msg.isStreaming) && (\r\n                <motion.div\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    exit={{ opacity: 0 }}\r\n                >\r\n                    <TypingIndicator />\r\n                </motion.div>\r\n            )}\r\n        </AnimatePresence>\r\n    );\r\n};\r\n\r\nexport default MessageList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}